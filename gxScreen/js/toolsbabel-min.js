"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tools={refreshTime:18e5,addEvent:function(e,t,n,o){var r=n;o&&(r=function(){n.call(this,o)}),e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent?e.attachEvent("on"+t,r):e["on"+t]=r},removeEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent()?e.detachEvent(t,n):e["on"+t]=null},setFont:function(){var e=62.5*window.innerWidth/192;document.getElementsByTagName("html")[0].style.fontSize=e+"%"},resetFont:function(){this.setFont(),this.addEvent(window,"resize",this.setFont)},refresh:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){setTimeout(function(){navigator.onLine?window.location.reload():(alert("请检查网络设置！"),refresh(3e5))},e||this.refreshTime)}),requestNewdata:function(e,t,n,o,r){var i=r||"/api/screen_api.ashx",a=null,s=this;a="string"==typeof t?{channelid:e.channelid,whatDo:t}:t,e.$http.get(i,{params:a,before:function(e){this.previousRequest=e}}).then(function(e){e.data?s.handleDataNew(e.data,n,o):console.log("数据接口很可能有特殊字符，请在浏览器上检查接口返回数据！")},function(e){console.log("请求失败！")})},handleDataNew:function(e,t,n){if("string"==typeof e&&(e=JSON.parse(e)),void 0!=e.Succeed)if(e.Succeed)t(e.obj?e.obj:e.Msg);else switch(e.state){case 0:n&&n(e.Msg,e);break;case 104:case 200:console.log("请先登录"),window.location.href="/UserManage/UserLogin/Login.aspx?url="+encodeURIComponent(window.location.href);break;case 201:alert("您当前没有权限进行此操作！")}else t(e)},handleImg:function(e,t,n,o,r){if(""!=e){var i=e.split("%D%W"),a=new Array;if(a=(i.length>1?i[1]:i[0]).split(","),i[0].indexOf("http://")>=0)return a[0].toLowerCase().indexOf(".jpg")>-1||a[0].toLowerCase().indexOf(".gif")>-1||a[0].toLowerCase().indexOf(".png")>-1||a[0].toLowerCase().indexOf(".jpeg")>-1||a[0].toLowerCase().indexOf(".bmp"),a[0].replace("#","%23");var s="error";switch(t){case 1:s="jpg";break;case 2:s="pdf";break;case 3:s="img"}return"http://fwimage.cnfanews.com/"+(s+"/"+o.toString().substr(0,4)+"/"+o+"/"+n+"/"+r+"/"+a[0]).toLowerCase()}return""},addPrefix:function(e){return 1==(e=String(e)).length&&(e="0"+e),e},handleTime:function(e){if(e.indexOf("/Date")>=0){var t=/\/Date\((-?\d+|-?\d+\+\d+)\)\//g.exec(e),n=parseInt(t[1]),o=new Date(n),r=o.getFullYear(),i=this.addPrefix(o.getMonth()+1),a=this.addPrefix(o.getDate()),s=this.addPrefix(o.getHours()),f=this.addPrefix(o.getMinutes()),c=this.addPrefix(o.getSeconds());return{year:r,month:i,day:a,hour:s,minute:f,second:c,total:r+"-"+i+"-"+a+" "+s+":"+f+":"+c,toMin:r+"-"+i+"-"+a+" "+s+":"+f,today:i+"月"+a+"日"+s+"时"}}return{total:e}},articleType:function(e,t){var n="";return e.indexOf("weixin")>=0?n="weixin":e.indexOf("web")>=0?n="web":e.indexOf("bbs")>=0?n="web":e.indexOf("app")>=0?n="app":0==e.indexOf("news")?n="news":e.indexOf("weibo")>=0&&(n="weibo"),""===n&&(n=t>18000101e11&&t<25e17?"news":t>=25e17&&t<35e17||17==t.toString().length?"weibo":t>=35e17&&t<44e17?"weixin":"website"),n},random:function(e,t){return Math.floor(Math.random()*(t-e))+e},$:function(e){return document.getElementById(e)},cutoutStr:function(e,t,n){var o=/。$/,r=e.substring(0,t);if(o.test(r))return r;if(r.indexOf("。")>=0){var i=r.lastIndexOf("。")+1;return r=i<n?r.substring(0,n)+"...":r.substring(0,i)}return r+"..."},checkie:function(){return!!window.ActiveXObject||"ActiveXObject"in window},pushArr:function(e,t){var n=!1;if(0==e.length)n=!0;else for(var o=0;o<e.length;o++){var r=e[o];if(!(n=!this.checkobjhas(r,t))){console.log(o);break}}return n&&e.push(t),e},checkobjhas:function(e,t){var n=!0;for(var o in e){var r=e[o],i=t[o];if("object"===(void 0===r?"undefined":_typeof(r))&&"object"===(void 0===i?"undefined":_typeof(i))?n=this.checkobjhas(r,i):"function"==typeof r&&"function"==typeof i?n=!1:r!=i&&(n=!1),!n)break}return n},copyobjtoarr:function(e,t){var n=this.copyobj(e);t.push(n)},copyobj:function(e){var t={};for(var n in e){var o=e[n];"object"===(void 0===o?"undefined":_typeof(o))?t[n]=this.copyobj(o):"function"!=typeof o&&(t[n]=o)}return t},setToArray:function(e){return Array.from(e)}};tools.resetFont(),tools.refresh();