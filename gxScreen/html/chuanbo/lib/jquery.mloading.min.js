!function(root,factory){"use strict";"object"==typeof module&&"object"==typeof module.exports&&factory(require("jquery"),root),"function"==typeof define?define.cmd?define(function(require,exports,module){var $=require("jquery");factory($,root)}):define(["jquery"],function($){factory($,root)}):factory(root.jQuery,root)}("undefined"!=typeof window?window:this,function($,root,undefined){"use strict";if($||($=root.jQuery||null),!$)throw new TypeError("必须引入jquery库方可正常使用！");var arraySlice=Array.prototype.slice;function MLoading(dom,options){options=options||{},this.dom=dom,this.options=$.extend(!0,{},MLoading.defaultOptions,options),this.curtain=null,this.render().show()}MLoading.prototype={constructor:MLoading,initElement:function(){var dom=this.dom,ops=this.options,curtainElement=dom.children(".mloading"),bodyElement=curtainElement.children(".mloading-body"),barElement=bodyElement.children(".mloading-bar"),iconElement=barElement.children(".mloading-icon"),textElement=barElement.find(".mloading-text");if(0==curtainElement.length&&(curtainElement=$('<div class="mloading"></div>'),dom.append(curtainElement)),0==bodyElement.length&&(bodyElement=$('<div class="mloading-body"></div>'),curtainElement.append(bodyElement)),0==barElement.length&&(barElement=$('<div class="mloading-bar"></div>'),bodyElement.append(barElement)),0==iconElement.length){var _iconElement=document.createElement(ops.iconTag);(iconElement=$(_iconElement)).addClass("mloading-icon"),barElement.append(iconElement)}return 0==textElement.length&&(textElement=$('<span class="mloading-text"></span>'),barElement.append(textElement)),this.curtainElement=curtainElement,this.bodyElement=bodyElement,this.barElement=barElement,this.iconElement=iconElement,this.textElement=textElement,this},render:function(){var dom=this.dom,ops=this.options;return this.initElement(),dom.is("html")||dom.is("body")?this.curtainElement.addClass("mloading-full"):(this.curtainElement.removeClass("mloading-full"),dom.hasClass("mloading-container")||dom.addClass("mloading-container")),ops.mask?this.curtainElement.addClass("mloading-mask"):this.curtainElement.removeClass("mloading-mask"),""!=ops.content&&void 0!==ops.content?ops.html?this.bodyElement.html(ops.content):this.bodyElement.text(ops.content):(this.iconElement.attr("src",ops.icon),ops.html?this.textElement.html(ops.text):this.textElement.text(ops.text)),this},setOptions:function(options){options=options||{};var oldOptions=this.options;this.options=$.extend(!0,{},this.options,options),function(obj1,obj2){var result=!0;for(var pro in obj1)if(obj1[pro]!==obj2[obj1]){result=!0;break}return result}(oldOptions,this.options)||this.render()},show:function(){this.dom,this.options;var barElement=this.barElement;return this.curtainElement.addClass("active"),barElement.css({marginTop:"-"+barElement.outerHeight()/2+"px",marginLeft:"-"+barElement.outerWidth()/2+"px"}),this},hide:function(){var dom=this.dom;this.options;return this.curtainElement.removeClass("active"),dom.is("html")||dom.is("body")||dom.removeClass("mloading-container"),this},destroy:function(){var dom=this.dom;this.options;return this.curtainElement.remove(),dom.is("html")||dom.is("body")||dom.removeClass("mloading-container"),dom.removeData(MLoading.dataKey),this}},MLoading.dataKey="MLoading",MLoading.defaultOptions={text:"加载中...",iconTag:"img",icon:"data:image/gif;base64,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",html:!1,content:"",mask:!0},$.fn.mLoading=function(options){var ops={},funName="",funArgs=[];return"object"==typeof options?ops=options:"string"==typeof options&&(funName=options,funArgs=arraySlice.call(arguments).splice(0,1)),this.each(function(i,element){var dom=$(element),plsInc=dom.data(MLoading.dataKey);if(plsInc||(plsInc=new MLoading(dom,ops)),funName){var fun=plsInc[funName];"function"==typeof fun&&fun.apply(plsInc,funArgs)}})}});